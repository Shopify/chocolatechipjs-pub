/*
ChocolateChip.js
Copyright 2014 Sourcebits www.sourcebits.com
License: MIT
Version: 3.8.0
*/
!function(){"use strict";var returnResult=function(result){return"string"==typeof result?[]:result&&result.length&&void 0===result[0]?[]:result&&result.length?result:[]},$=function(selector,context){var idRE=/^#([\w-]*)$/,classRE=/^\.([\w-]+)$/,tagRE=/^[\w-]+$/,getId=function(selector){var el=document.getElementById(selector.split("#")[1]);return el?[el]:[]},getTag=function(selector,context){return[].slice.apply(context?context.getElementsByTagName(selector):document.getElementsByTagName(selector))},getClass=function(selector,context){return[].slice.apply(context?context.getElementsByClassName(selector.split(".")[1]):document.getElementsByClassName(selector.split(".")[1]))},getNode=function(selector,context){return"string"==typeof selector&&(selector=selector.trim()),"string"==typeof selector&&idRE.test(selector)?getId(selector):selector&&selector instanceof Array&&selector.length?selector:context||"string"!=typeof selector?[].slice.apply(context?context.querySelectorAll(selector):document.querySelectorAll(selector)):tagRE.test(selector)?getTag(selector):classRE.test(selector)?getClass(selector):[].slice.apply(document.querySelectorAll(selector))};if("undefined"==typeof selector||selector===document)return[document];if(null===selector)return[];if(context){if("string"==typeof context)return[].slice.apply(document.querySelectorAll(context+" "+selector));if(1===context.nodeType)return getNode(selector,context)}else if("function"==typeof selector)$.ready(function(){return selector.call(selector)});else{if(selector&&1===selector.nodeType)return[selector];if("string"==typeof selector){if(""===selector)return[];if(/<\/?[^>]+>/.test(selector))return $.make(selector);try{return getNode(selector)?getNode(selector):[]}catch(err){return[]}}else{if(selector instanceof Array)return selector;if(/NodeListConstructor/i.test(selector.constructor.toString()))return[].slice.apply(selector);if(selector===window)return[]}}return this};$.extend=function(obj,prop,enumerable){return enumerable=enumerable||!1,prop||(prop=obj,obj=$),Object.keys(prop).forEach(function(p){prop.hasOwnProperty(p)&&Object.defineProperty(obj,p,{value:prop[p],writable:!0,enumerable:enumerable,configurable:!0})}),this},$.extend({version:"3.8.0",libraryName:"ChocolateChip",slice:Array.prototype.slice,make:function(HTMLString){var ret=[],temp=document.createElement("div");return temp.innerHTML=HTMLString,temp=$.slice.apply(temp.childNodes),temp.forEach(function(ctx){1===ctx.nodeType?ret.push(ctx):3===ctx.nodeType&&0!==ctx.nodeValue.trim().length&&ret.push(ctx)}),ret},html:function(HTMLString){return this.make(HTMLString)},replace:function(newElem,oldElem){newElem&&oldElem&&(newElem=newElem.length?newElem[0]:newElem,oldElem=oldElem.length?oldElem[0]:oldElem,oldElem.parentNode.replaceChild(newElem,oldElem))},require:function(src,callback){callback=callback||$.noop;var script=document.createElement("script");script.setAttribute("type","text/javascript"),script.setAttribute("src",src),script.onload=script.onreadystatechange=function(){script.readyState&&"complete"!==script.readyState||callback.apply(callback,arguments)},$("head").insert(script,"last")},processJSON:function(data,name){name=null!==name||void 0!==name?"var "+name+" = ":"var data = ";var script=document.createElement("script");script.setAttribute("type","text/javascript");var scriptID="_"+$.uuidNum();script.setAttribute("id",scriptID),script.html(name+data),$("head").append(script),$.defer(function(){var id="#"+scriptID;$(id).remove()})},delay:function(fnc,time){fnc=fnc||$.noop,setTimeout(function(){fnc.call(fnc)},time)},defer:function(fnc){return fnc=fnc||$.noop,$.delay.apply($,[fnc,1].concat($.slice.call(arguments,1)))},noop:function(){},concat:function(args){return args instanceof Array?args.join(""):args instanceof Object?void 0:(args=$.slice.apply(arguments),String.prototype.concat.apply(args.join("")))},w:function(str){return str.split(" ")},isString:function(str){return"string"==typeof str},isArray:function(array){return Array.isArray(array)},isFunction:function(fn){return"[object Function]"===Object.prototype.toString.call(fn)},isObject:function(obj){return"[object Object]"===Object.prototype.toString.call(obj)},isEmptyObject:function(obj){return 0===Object.keys(obj).length},isNumber:function(number){return"number"==typeof number},isInteger:function(number){return"number"==typeof number&&number%1===0},isFloat:function(number){return"number"==typeof number&&number%1!==0},uuidNum:function(){return Math.floor(4294967296*(1+Math.random()))},makeUuid:function(){return $.concat("chch_",$.uuid)},uuid:0,chch_cache:{},fn:{}}),$.fn.extend=function(object){return $.extend(Array.prototype,object)},$.uuid=$.uuidNum(),$.chch_cache.data={},$.chch_cache.events={},$.extend($.chch_cache.events,{keys:[],values:[],set:function(element,event,callback,capturePhase){var key,values,length=this.values.length>0?this.values.length-1:0;element.id?key=element.id:(++$.uuid,key=$.makeUuid(),element.setAttribute("id",key)),this.keys.indexOf(key)>=0?(this.values[length].push([]),values=this.values[length],values.push(event),values.push(callback),values.push(capturePhase),element.addEventListener(event,callback,capturePhase)):(this.keys.push(key),this.values.push([]),length=this.values.length-1,this.values[length].push([]),values=this.values[length],values[0].push(event),values[0].push(callback),values[0].push(capturePhase),element.addEventListener(event,callback,capturePhase))},hasKey:function(key){return this.keys.indexOf(key)>=0?!0:!1},_delete:function(element,event,callback){var $this=this,idx=this.keys.indexOf(element),cache=this.values;element&&("undefined"==typeof event&&(cache[idx].each(function(item){document.getElementById(element).removeEventListener(item[0],item[1],item[2]),$.chch_cache.events.keys.splice(idx,1),cache[idx].splice(idx,1)}),cache.splice(idx,1)),event&&callback&&cache[idx].each(function(item){item[0]===event&&(document.getElementById(element).removeEventListener(item[0],item[1],item[2]),$.chch_cache.events.values.splice(idx,1),$.chch_cache.events.keys.splice(idx,1))}),event&&"undefined"==typeof callback&&$this.values[idx].each(function(item){item[0]===event&&(document.getElementById(element).removeEventListener(item[0],item[1],item[2]),$.chch_cache.events.values.splice(idx,1),$.chch_cache.events.keys.splice(idx,1))}))}}),$.fn.extend({each:function(fn,ctx){if(!this.length)return[];if("function"==typeof fn){var i,l=this.length;for(ctx=arguments[1],i=0;l>i;i++)i in this&&this.hasOwnProperty(i)&&fn.call(ctx,this[i],i,this);return this}},unique:function(){var ret=[],sort=this.sort();return sort.forEach(function(ctx){-1===ret.indexOf(ctx)&&ret.push(ctx)}),ret.length?ret:[]},eq:function(index){return this.length?(index=parseInt(index,10),this.length<index+1?[]:0>index?this[this.length+index]?[this[this.length+index]]:[]:0===index||index?[this[index]]:[]):[]},index:function(element){if(!this.length)return[];var $this;return element?this.indexOf(element instanceof Array?element[0]:1===element.nodeType?element:element):($this=$(this[0]),$this.parent().children().indexOf($this[0]))},is:function(arg){if(!this.length||!arg)return[];if(!this.length)return[];var $this,items=[],__is=function(node,arg){if($this=this,"string"==typeof arg){if([].slice.apply(node.parentNode.querySelectorAll(arg)).indexOf(node)>=0)return node}else if("function"==typeof arg){if(arg.call($this))return node}else if(arg&&arg.length){if(-1!==$.slice.apply(arg).indexOf(node))return node}else{if(1!==arg.nodeType)return[];if(node===arg)return node}};return this.each(function(item){__is(item,arg)&&items.push(item)}),items.length?items:[]},isnt:function(arg){if(!this.length)return[];var $this,items=[],__isnt=function(node,arg){if($this=this,"string"==typeof arg){if(-1===[].slice.apply(node.parentNode.querySelectorAll(arg)).indexOf(node))return node}else if("function"==typeof arg){if(arg.call($this))return node}else if(arg.length){if(-1===$.slice.apply(arg).indexOf(node))return node}else{if(1!==arg.nodeType)return[];if(node!==arg)return node}};return this.each(function(item){__isnt(item,arg)&&items.push(item)}),items.length?items:[]},has:function(arg){if(!this.length)return[];var items=[],__has=function(node,arg){if("string"==typeof arg){if(node.querySelector(arg))return node}else{if(1!==arg.nodeType)return!1;if($.slice.apply(this.children).indexOf(arg))return node}};return this.each(function(item){__has(item,arg)&&items.push(item)}),items.length?items:[]},hasnt:function(arg){if(!this.length)return[];var items=[];return this.each(function(item){"string"==typeof arg?item.querySelector(arg)||items.push(item):1===arg.nodeType&&($.slice.apply(item.children).indexOf(arg)||items.push(item))}),items.length?items:[]},find:function(selector,context){var ret=[];return this.length?(context?context.each(function(){$.slice.apply(context.querySelectorAll(selector)).each(function(node){ret.push(node)})}):this.each(function(ctx){$.slice.apply(ctx.querySelectorAll(selector)).each(function(node){ret.push(node)})}),ret):ret},css:function(property,value){if(!this.length)return[];var ret=[];if(!property)return[];if(!value&&property instanceof Object){if(!this.length)return;this.each(function(node){for(var key in property)property.hasOwnProperty(key)&&(node.style[$.camelize(key)]=property[key]);ret.push(node)})}else{if(!value&&"string"==typeof property){if(!this.length)return;return document.defaultView.getComputedStyle(this[0],null).getPropertyValue(property.toLowerCase())}if(value){if(!this.length)return[];this.each(function(node){node.style[$.camelize(property)]=value,ret.push(node)})}}return ret.length?ret:[]},width:function(){return this.length?this.eq(0)[0].clientWidth:void 0},height:function(){return this.length?this.eq(0)[0].clientHeight:void 0},offset:function(){if(this.length){var offset=this.eq(0)[0].getBoundingClientRect();return{top:Math.round(offset.top),left:Math.round(offset.left),bottom:Math.round(offset.bottom),right:Math.round(offset.right)}}},prependTo:function(selector){return this.length?(this.reverse(),this.each(function(item){$(selector)[0].insertBefore(item,$(selector)[0].firstChild)}),this):[]},appendTo:function(selector){return this.length?(this.each(function(item){$(selector).append(item)}),this):[]},before:function(content){if(!this.length)return[];var __before=function(node,content){if("string"==typeof content&&(content=$.make(content)),content&&content.constructor===Array)for(var len=content.length,i=0;len>i;)node.insertAdjacentElement("beforeBegin",content[i]),i++;else content&&1===content.nodeType&&node.insertAdjacentElement("beforeBegin",content);return node};return this.each(function(node){__before(node,content)}),this},after:function(args){if(!this.length)return[];var __after=function(node,content){var parent=node.parentNode;if("string"==typeof content&&(content=$.make(content)),content&&content.constructor===Array)for(var i=0,len=content.length;len>i;)node===parent.lastChild?parent.appendChild(content[i]):parent.insertBefore(content[i],node.nextSibling),i++;else content&&1===content.nodeType&&parent.appendChild(content);return this};return this.each(function(node){__after(node,args)}),this},text:function(string){if(!this.length)return[];var ret="",__text=function(node,value){return value||0===value?(node.innerText=value,node):node.innerText};return this.each(function(node){string?__text(node,string):ret+=__text(node)}),string?this:ret},insert:function(content,position){if(!this.length)return[];var __insert=function(node,content,position){node instanceof Array&&(node=node[0]);var c=[];"string"==typeof content?c=$.make(content):content&&1===content.nodeType?c.push(content):content instanceof Array&&(c=content);var i=0,len=c.length;if(!position||position>node.children.length+1||"last"===position)for(;len>i;)node.appendChild(c[i]),i++;else if(1===position||"first"===position){if(node.children)if(node.firstElementChild)for(;len>i;)node.insertBefore(c[i],node.firstChild),i++;else for(;len>i;)node.insertBefore(c[i],node.firstChild),i++}else for(;len>i;)node.insertBefore(c[i],node.childNodes[position]),i++;return node},cnt=content;return"string"==typeof cnt?this.each(function(node){__insert(node,content,position)}):cnt instanceof Array?this.each(function(node){(1===position||"first"===position)&&(cnt=cnt.reverse()),cnt.each(function(n){__insert(node,n,position)})}):1===cnt.nodeType&&this.each(function(node){__insert(node,cnt,position)}),this},html:function(content){if(!this.length)return[];var ret=[],__html=function(node,content){""===content?(node.innerHTML="",ret.push(node)):content?(node.innerHTML=content,ret.push(node)):content||(ret=node.innerHTML)};return this.each(function(node){__html(node,content)}),ret.length?ret:[]},prepend:function(content){return this.length?(this.insert(content,"first"),this):[]},append:function(content){return this.length?(this.insert(content,"last"),this):[]},attr:function(property,value){if(!this.length)return[];var ret=[],__attr=function(node,property,value){return value?node.setAttribute(property,value):node.getAttribute(property)};if(value)this.each(function(node){__attr(node,property,value),ret.push(node)});else if(this[0].hasAttribute(property))return this[0].getAttribute(property);return ret.length?ret:void 0},prop:function(property,value){return this.length?this.attr(property,value):[]},hasAttr:function(property){if(!this.length)return[];var ret=[];return this.each(function(node){node.hasAttribute(property)&&ret.push(node)}),returnResult(ret)},removeAttr:function(attribute){if(!this.length)return[];var ret=[];return this.each(function(node){node.hasAttribute(attribute)&&(node.removeAttribute(attribute),ret.push(node))}),returnResult(ret)},hasClass:function(className){if(!this.length)return[];var ret=[],tokens=[];return/\s/.test(className)&&(tokens=className.split(" ")),this.each(function(node){tokens.length?(tokens.forEach(function(name){node&&node.classList&&node.classList.contains(name)&&ret.push(node)}),ret=ret.unique()):node&&node.classList&&node.classList.contains(className)&&ret.push(node)}),returnResult(ret)},addClass:function(className){if(!this.length)return[];if("string"==typeof className){var classes,ret=[];return this.each(function(node){/\s/.test(className)?(classes=className.split(" "),classes.each(function(name){node.classList.add(name)})):node.classList.add(className),ret.push(node)}),returnResult(ret)}},removeClass:function(className){if(!this.length)return[];var classes,ret=[];return this.each(function(node){node&&(/\s/.test(className)?(classes=className.split(" "),classes.each(function(name){node.classList.remove(name)})):node.classList.remove(className),""===node.getAttribute("class")&&node.removeAttribute("class"),ret.push(node))}),returnResult(ret)},toggleClass:function(className){if(!this.length)return[];var ret=[];return this.each(function(node){node.classList.toggle(className),ret.push(node)}),returnResult(ret)},dataset:function(key,value){if(!this.length)return[];var ret=[];return"string"==typeof value&&value.length>=0?(this.each(function(node){node.dataset[key]=value,ret.push(node)}),returnResult(ret)):this[0].dataset[$.camelize(key)]},val:function(value){return this.length?"string"==typeof value?(this[0].value=value,this):this[0]&&this[0].value?this[0].value:void 0:[]},disable:function(){if(!this.length)return[];var ret=[];return this.each(function(node){node.classList.add("disabled"),node.setAttribute("disabled",!0),node.style.cursor="default"}),returnResult(ret)},enable:function(){if(!this.length)return[];var ret=[];return this.each(function(node){node.classList.remove("disabled"),node.removeAttribute("disabled"),node.style.cursor="auto"}),returnResult(ret)},hide:function(speed,callback){if(!this.length)return[];var cbk=callback||$.noop;if(!this.length)return[];{var ret=[],css="",storedDimensions={},cssAnim={opacity:0,height:0,padding:0};$.isWebkit?"-webkit-transition":"transition"}return this.each(function(ctx){storedDimensions.padding=$(ctx).css("padding"),storedDimensions.height=$(ctx).css("height"),storedDimensions.opacity=$(ctx).css("opacity"),storedDimensions.display=$(ctx).css("display"),$(ctx).data("ui-dimensions",storedDimensions),"string"==typeof speed?"slow"===speed?($(ctx).css({transition:"all 1s ease-out"}),$(ctx).css(cssAnim),setTimeout(function(){$(ctx).css({visibility:"hidden",display:"none"}),cbk.apply(ctx,arguments)},1e3)):"fast"===speed&&($(ctx).css({transition:"all .35s ease-in-out"}),$(ctx).css(cssAnim),setTimeout(function(){$(ctx).css({visibility:"hidden",display:"none"}),cbk.apply(ctx,arguments)},350)):"number"==typeof speed&&(css="all "+speed+"ms ease-in-out",$(ctx).css({transition:css}),$(ctx).css(cssAnim),setTimeout(function(){$(ctx).css({visibility:"hidden",display:"none"}),cbk.apply(ctx,arguments)},speed)),callback||"function"!=typeof speed||($(ctx).css({display:"none",visibility:"hidden"}),speed.apply(ctx,arguments)),speed||($(ctx).data("",""),$(ctx).css({display:"none",visibility:"hidden"})),ret.push(ctx)}),returnResult(ret)},show:function(speed,callback){if(!this.length)return[];{var cbk=callback||$.noop,createCSSAnim=function(opacity,height,padding){return{opacity:opacity,height:height,padding:padding}};$.isWebkit?"-webkit-transition":"transition"}this.each(function(ctx){var storedDimensions=$(ctx).data("ui-dimensions"),height=storedDimensions&&storedDimensions.height||"auto",padding=storedDimensions&&storedDimensions.padding||"auto",opacity=storedDimensions&&storedDimensions.opacity||1,display=storedDimensions&&storedDimensions.display||"block";"string"==typeof speed?"slow"===speed?($(ctx).css({visibility:"visible",display:display}),setTimeout(function(){$(ctx).css({transition:"all 1s ease-out"}),$(ctx).css(createCSSAnim(opacity,height,padding)),setTimeout(function(){cbk.apply(ctx,arguments)},1e3)})):"fast"===speed&&($(ctx).css({visibility:"visible",display:display}),setTimeout(function(){$(ctx).css({transition:"all .250s ease-out"}),$(ctx).css(createCSSAnim(opacity,height,padding)),setTimeout(function(){cbk.apply(ctx,arguments)},250)})):"number"==typeof speed&&($(ctx).css({visibility:"visible",display:display}),setTimeout(function(){$(ctx).css({transition:"all "+speed+"ms ease-out"}),$(ctx).css(createCSSAnim(opacity,height,padding)),setTimeout(function(){cbk.apply(ctx,arguments)},speed)})),speed||$(ctx).css({display:display,visibility:"visible",opacity:opacity})})},prev:function(){if(!this.length)return[];var ret=[];return this.each(function(node){node.previousElementSibling&&ret.push(node.previousElementSibling)}),ret},next:function(){if(!this.length)return[];var ret=[];return this.each(function(node){node.nextElementSibling&&ret.push(node.nextElementSibling)}),ret},first:function(){if(!this.length)return[];var ret=[];return this.each(function(node){node.firstElementChild&&ret.push(node.firstElementChild)}),ret},last:function(){if(!this.length)return[];var ret=[];return this.each(function(node){node.lastElementChild&&ret.push(node.lastElementChild)}),ret},children:function(selector){if(!this.length)return[];var ret=[];return selector?this.forEach(function(node){[].slice.apply(node.children).forEach(function(ctx){[ctx].is(selector)[0]&&ret.push(ctx)})}):this.each(function(node){[].slice.apply(node.children).forEach(function(ctx){ret.push(ctx)})}),ret},parent:function(){if(!this.length)return[];var ret=[];return this.each(function(ctx){ret.push(ctx.parentNode)}),ret=ret.unique(),returnResult(ret)},ancestor:function(selector){if(!this.length)return[];var ret=[];if("undefined"==typeof selector)return[];var el=this[0],position=null,newSelector=null,p=el.parentNode;if(!p)return[];if("string"==typeof selector&&selector.trim(),"number"==typeof selector){position=selector||1;for(var i=1;position>i;i++){if("HTML"===p.nodeName)return p;null!==p&&(p=p.parentNode)}ret.push(p)}else"string"==typeof selector&&"."===selector.substr(0,1)?(newSelector=selector.split(".")[1],"BODY"===p.nodeName&&ret.push(p),ret.push(p.classList.contains(newSelector)?p:$(p).ancestor(selector)[0])):"string"==typeof selector&&"#"===selector.substr(0,1)?(newSelector=selector.split("#")[1],ret.push(p.getAttribute("id")===newSelector?p:$(p).ancestor(selector)[0])):ret.push(p.tagName&&p.tagName.toLowerCase()===selector?p:$(p).ancestor(selector)[0]);return ret},closest:function(selector){return this.ancestor(selector)},siblings:function(selector){if(!this.length)return[];var _siblings,ret=[];return selector=selector&&"string"==typeof selector?selector:!1,this.each(function(ctx){_siblings=$(ctx).parent().children(),_siblings.splice(_siblings.indexOf(ctx),1),_siblings.each(selector?function(node){node.nodeName===selector.toUpperCase()&&ret.push(node)}:function(node){ret.push(node)})}),ret.length?ret.unique():this},off:function(event,selector,callback,capturePhase){if(!this.length)return[];var ret=[];return this.each(function(ctx){"function"!=typeof selector&&selector?($(ctx).undelegate(selector,event,callback,capturePhase),ret.push(ctx)):($(ctx).unbind(event,selector,callback),ret.push(ctx))}),ret.length?ret:this},clone:function(value){if(!this.length)return[];var ret=[];return this.each(function(ctx){ret.push(value!==!0&&value?ctx.cloneNode(!1):ctx.cloneNode(!0))}),ret.length?ret[0]:this},wrap:function(string){return this.length?(this.each(function(ctx){var tempNode=$.make(string);tempNode=tempNode[0];var whichClone=$(ctx).clone(!0);tempNode.appendChild(whichClone),ctx.parentNode.insertBefore(tempNode,ctx.nextSibling),$(ctx).remove(ctx)}),this):[]},unwrap:function(){if(!this.length)return[];var parentNode=null;return this.each(function(node){return node.parentNode!==parentNode?(parentNode=node.parentNode,"BODY"===node.parentNode.nodeName?!1:void $.replace(node,node.parentNode)):void 0}),this},remove:function(){return this.length?void this.each(function(ctx){$(ctx).unbind(),$(ctx).removeData(),ctx.parentNode.removeChild(ctx)}):[]},empty:function(){if(!this.length)return[];var ret=[];return this.each(function(ctx){$(ctx).unbind(),ctx.textContent="",ret.push(ctx)}),returnResult(ret)}}),$.fn.extend({data:function(key,value){if(!this.length)return[];var id,ctx=this[0];if(id=ctx.id,"undefined"!==key&&null!==key){if(value||0===value){var val=value;ctx.id?(id=ctx.id,$.chch_cache.data[id]?$.chch_cache.data[id][key]=val:($.chch_cache.data[id]={},$.chch_cache.data[id][key]=val)):(++$.uuid,id=$.makeUuid(),ctx.setAttribute("id",id),$.chch_cache.data[id]={},$.chch_cache.data[id][key]=val)}else if(key&&id){if(!$.chch_cache.data[id])return;if(0===$.chch_cache.data[id][key])return $.chch_cache.data[id][key];if(!$.chch_cache.data[id][key])return;return $.chch_cache.data[id][key]}return this}},removeData:function(key){return this.length?void this.each(function(ctx){var id=ctx.getAttribute("id");if(id)return $.chch_cache.data[ctx.id]?key?(0===Object.keys($.chch_cache.data[id]).length?delete $.chch_cache.data[id]:delete $.chch_cache.data[id][key],this):(delete $.chch_cache.data[id],this):this}):[]}}),$.fn.extend({animate:function(options){if(!this.length)return[];var transition,transitionEnd,onEnd=null,duration=duration||".5s",easing=easing||"linear",css={};return"ontransitionend"in window?(transition="transition",transitionEnd="transitionend"):(transition="-webkit-transition",transitionEnd="webkitTransitionEnd"),css[transition]="all "+duration+" "+easing,this.forEach(function(ctx){for(var prop in options)"onEnd"===prop?(onEnd=options[prop],$(ctx).bind(transitionEnd,onEnd())):css[prop]=options[prop];$(ctx).css(css)}),this}}),$.fn.extend({bind:function(event,callback,capturePhase){return this.length?(capturePhase=capturePhase||!1,this.each(function(ctx){$.chch_cache.events.set(ctx,event,callback,capturePhase)}),this):[]},unbind:function(event,callback,capturePhase){if(!this.length)return[];var id;return this.each(function(ctx){return ctx.id&&$.chch_cache.events.hasKey(ctx.id)?(capturePhase=capturePhase||!1,id=ctx.getAttribute("id"),void $.chch_cache.events._delete(id,event,callback,capturePhase)):this}),this},trigger:function(event){return this.length?void this.each(function(ctx){if(document.createEvent){var evtObj=document.createEvent("Events");evtObj.initEvent(event,!0,!1),ctx.dispatchEvent(evtObj)}}):[]},delegate:function(selector,event,callback,capturePhase){return this.length?(capturePhase=capturePhase||!1,void this.each(function(ctx){ctx.addEventListener(event,function(e){var target=e.target;3===e.target.nodeType&&(target=e.target.parentNode),$(selector,ctx).each(function(element){if(element===target)callback.call(element,e);else try{var ancestor=$(target).ancestor(selector);element===ancestor[0]&&callback.call(element,e)}catch(err){}})},capturePhase)})):[]},undelegate:function(selector,event,callback,capturePhase){return this.length?void this.each(function(ctx){$(ctx).unbind(event,callback,capturePhase)}):[]},on:function(event,selector,callback,capturePhase){if(!this.length)return[];!selector&&/Object/gim.test(event.constructor.toString())&&this.each(function(ctx){for(var key in event)event.hasOwnProperty(key)&&$(ctx).on(key,event[key])});var events,ret=[];return"string"==typeof event&&(event=event.trim(),/\s/.test(event)&&(events=event.split(" "),events.length&&this.each(function(ctx){events.each(function(evt){"function"==typeof selector?($(ctx).bind(evt,selector,callback),ret.push(ctx)):($(ctx).delegate(selector,evt,callback,capturePhase),ret.push(ctx))})}))),this.each(function(ctx){"function"==typeof selector?($(ctx).bind(event,selector,callback),ret.push(ctx)):($(ctx).delegate(selector,event,callback,capturePhase),ret.push(ctx))}),ret.length?ret:this}}),$.extend($,{DOMReadyList:[],executeWhenDOMReady:function(){for(var listLen=$.DOMReadyList.length,i=0;listLen>i;)$.DOMReadyList[i](),i++;$.DOMReadyList=[],document.removeEventListener("DOMContentLoaded",$.executeWhenDOMReady,!1)},ready:function(callback){document.getElementsByTagName("body")[0]?callback():(0===$.DOMReadyList.length&&document.addEventListener("DOMContentLoaded",$.executeWhenDOMReady,!1),$.DOMReadyList.push(callback))}}),$.fn.extend({ready:function(callback){return this.length?void $.ready(function(){return callback.call(callback)}):[]}}),$.extend($,{camelize:function(string){return"string"==typeof string?string.replace(/\-(.)/g,function(match,letter){return letter.toUpperCase()}):void 0},deCamelize:function(string){return"string"==typeof string?string.replace(/([A-Z])/g,"-$1").toLowerCase():void 0},capitalize:function(string,all){if(string&&"string"==typeof string){if(all){var str=string.split(" "),newstr=[];return str.each(function(item){newstr.push($.capitalize(item))}),newstr.join(" ")}return string.charAt(0).toUpperCase()+string.substring(1).toLowerCase()}}}),$.extend($,{form2JSON:function(rootNode,delimiter){function getFormValues(rootNode){for(var result=[],currentNode=rootNode.firstChild;currentNode;){if(currentNode.nodeName.match(/INPUT|SELECT|TEXTAREA/i))result.push({name:currentNode.name,value:getFieldValue(currentNode)});else{var subresult=getFormValues(currentNode);result=result.concat(subresult)}currentNode=currentNode.nextSibling}return result}function getFieldValue(fieldNode){if("INPUT"===fieldNode.nodeName){if("radio"===fieldNode.type.toLowerCase()||"checkbox"===fieldNode.type.toLowerCase()){if(fieldNode.checked)return fieldNode.value}else if(!fieldNode.type.toLowerCase().match(/button|reset|submit|image/i))return fieldNode.value}else{if("TEXTAREA"===fieldNode.nodeName)return fieldNode.value;if("SELECT"===fieldNode.nodeName)return getSelectedOptionValue(fieldNode)}return""}function getSelectedOptionValue(selectNode){var multiple=selectNode.multiple;if(!multiple)return selectNode.value;if(selectNode.selectedIndex>-1){var result=[];return $("option",selectNode).each(function(item){item.selected&&result.push(item.value)}),result}}rootNode="string"==typeof rootNode?$(rootNode)[0]:rootNode,delimiter=delimiter||".";var formValues=getFormValues(rootNode),result={},arrays={};return formValues.each(function(item){var value=item.value;if(""!==value)for(var name=item.name,nameParts=name.split(delimiter),currResult=result,j=0;j<nameParts.length;j++){var arrName,namePart=nameParts[j];if(namePart.indexOf("[]")>-1&&j===nameParts.length-1)arrName=namePart.substr(0,namePart.indexOf("[")),currResult[arrName]||(currResult[arrName]=[]),currResult[arrName].push(value);else if(namePart.indexOf("[")>-1){arrName=namePart.substr(0,namePart.indexOf("["));var arrIdx=namePart.replace(/^[a-z]+\[|\]$/gi,"");arrays[arrName]||(arrays[arrName]={}),currResult[arrName]||(currResult[arrName]=[]),j===nameParts.length-1?currResult[arrName].push(value):arrays[arrName][arrIdx]||(currResult[arrName].push({}),arrays[arrName][arrIdx]=currResult[arrName][currResult[arrName].length-1]),currResult=arrays[arrName][arrIdx]}else j<nameParts.length-1?(currResult[namePart]||(currResult[namePart]={}),currResult=currResult[namePart]):currResult[namePart]=value}}),result}}),$.extend($,{ajax:function(options){var settings={type:"GET",beforeSend:$.noop,success:$.noop,error:$.noop,context:null,async:!0,timeout:0};$.extend(settings,options);{var dataTypes={script:"text/javascript, application/javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",form:"application/x-www-form-urlencoded"},xhr=new XMLHttpRequest,deferred=new $.Deferred,type=settings.type||"GET",async=settings.async||!1,params=settings.data||null;options.context||deferred}if(xhr.queryString=params,xhr.timeout=settings.timeout?settings.timeout:0,xhr.open(type,settings.url,async),settings.headers)for(var prop in settings.headers)settings.headers.hasOwnProperty(prop)&&xhr.setRequestHeader(prop,settings.headers[prop]);settings.dataType&&xhr.setRequestHeader("Content-Type",dataTypes[settings.dataType]),xhr.handleResp=settings.success;var handleResponse=function(){0===xhr.status&&4===xhr.readyState||xhr.status>=200&&xhr.status<300&&4===xhr.readyState||304===xhr.status&&4===xhr.readyState?settings.dataType&&"json"===settings.dataType?(xhr.handleResp(JSON.parse(xhr.responseText)),deferred.resolve(xhr.responseText,settings.context,xhr)):(xhr.handleResp(xhr.responseText),deferred.resolve(xhr.responseText,settings.context,xhr)):xhr.status>=400&&error&&(error(xhr),deferred.reject(xhr.status,settings.context,xhr))};return async?(settings.beforeSend!==$.noop&&settings.beforeSend(xhr,settings),xhr.onreadystatechange=handleResponse,xhr.send(params)):(settings.beforeSend!==$.noop&&settings.beforeSend(xhr,settings),xhr.send(params),handleResponse()),deferred},get:function(url,data,success,dataType){return url?data?(dataType||(dataType=null),"function"!=typeof data||success?"string"==typeof data&&"function"==typeof success?$.ajax({url:url,type:"GET",data:data,success:success,dataType:dataType}):void 0:$.ajax({url:url,type:"GET",success:data})):$.ajax({url:url,type:"GET"}):void 0},getJSON:function(url,data,success){url&&data&&("function"!=typeof data||success?"string"==typeof data&&"function"==typeof success&&$.ajax({url:url,type:"GET",data:data,success:success,dataType:"json"}):$.ajax({url:url,type:"GET",async:!0,success:data,dataType:"json"}))},JSONP:function(options){var settings={url:null,callback:$.noop,callbackType:"callback=?",timeout:null};$.extend(settings,options);var deferred=new $.Deferred,fn="fn_"+$.uuidNum(),script=document.createElement("script"),head=$("head")[0];script.setAttribute("id",fn);var startTimeout=new Date;window[fn]=function(data){head.removeChild(script),settings.callback(data),deferred.resolve(data,"resolved",settings),delete window[fn]};var strippedCallbackStr=settings.callbackType.substr(0,settings.callbackType.length-1);if(script.src=settings.url.replace(settings.callbackType,strippedCallbackStr+fn),head.appendChild(script),settings.timeout){setTimeout(function(){new Date-startTimeout>0&&(deferred.reject("timedout",settings),settings.callback=$.noop)},settings.timeout)}return deferred},post:function(url,data,success,dataType){url&&data&&("function"!=typeof data||dataType?"string"==typeof data&&"function"==typeof success&&(dataType||(dataType="form"),$.ajax({url:url,type:"POST",data:data,success:success,dataType:dataType})):(dataType="string"==typeof success?success:"form",$.ajax({url:url,type:"POST",success:data,dataType:dataType})))
}}),$.extend($,{xhr:function(options){if(!options)throw"No options where provided to xhr request.";if("object"!=typeof options)throw"Expected an object as argument for options, received something else.";var protocol,settings={type:"GET",beforeSend:$.noop,success:$.noop,error:$.noop,context:null,async:!0,timeout:0};options.data&&(options.data=encodeURIComponent(options.data)),$.extend(settings,options);var dataTypes={script:"text/javascript, application/javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain"};return new Promise(function(resolve,reject){var xhr=new XMLHttpRequest,type=settings.type||"get",async=settings.async||!1,params=settings.data||null;if(xhr.queryString=params,xhr.timeout=settings.timeout?settings.timeout:0,xhr.open(type,settings.url,async),settings.headers)for(var prop in settings.headers)settings.headers.hasOwnProperty(prop)&&xhr.setRequestHeader(prop,settings.headers[prop]);settings.dataType&&xhr.setRequestHeader("Content-Type",dataTypes[settings.dataType]),protocol=/^([\w-]+:)\/\//.test(settings.url)?RegExp.$1:window.location.protocol,xhr.onload=function(){200===xhr.status&&xhr.status<300&&4===xhr.readyState||304===xhr.status&&4===xhr.readyState||0===xhr.status&&"file:"===protocol?resolve(xhr.response):reject(new Error(xhr.statusText))},xhr.onerror=function(){reject(new Error("There was a network error."))},async?(settings.beforeSend!==$.noop&&settings.beforeSend(xhr,settings),xhr.send(params)):settings.beforeSend!==$.noop&&settings.beforeSend(xhr,settings)})}}),$.extend($.xhr,{get:function(url,data,success,dataType){return url?data?(dataType||(dataType=null),"function"!=typeof data||success?"string"==typeof data&&"function"==typeof success?$.xhr({url:url,type:"GET",data:data,success:success,dataType:dataType}):void 0:$.xhr({url:url,type:"GET",success:data})):$.xhr({url:url,type:"GET"}):void 0},getJSON:function(url,data,success){url&&data&&("function"!=typeof data||success?"string"==typeof data&&"function"==typeof success&&$.xhr({url:url,type:"GET",data:data,success:success,dataType:"json"}):$.xhr({url:url,type:"GET",async:!0,success:data,dataType:"json"}))},JSONP:function(options){var settings={url:null,callback:$.noop,callbackType:"callback=?",timeout:null};$.extend(settings,options);var fn="fn_"+$.uuidNum(),script=document.createElement("script"),head=$("head")[0];script.setAttribute("id",fn);var startTimeout=new Date;window[fn]=function(data){head.removeChild(script),settings.callback(data),deferred.resolve(data,"resolved",settings),delete window[fn]};var strippedCallbackStr=settings.callbackType.substr(0,settings.callbackType.length-1);if(script.src=settings.url.replace(settings.callbackType,strippedCallbackStr+fn),head.appendChild(script),settings.timeout){setTimeout(function(){new Date-startTimeout>0&&(deferred.reject("timedout",settings),settings.callback=$.noop)},settings.timeout)}return new Promise(function(resolve,reject){var fn="fn_"+$.uuidNum(),script=document.createElement("script"),head=$("head")[0];script.setAttribute("id",fn);var startTimeout=new Date;window[fn]=function(data){head.removeChild(script),settings.callback(data),resolve(data),delete window[fn]};var strippedCallbackStr=settings.callbackType.substr(0,settings.callbackType.length-1);if(script.src=settings.url.replace(settings.callbackType,strippedCallbackStr+fn),head.appendChild(script),settings.timeout){setTimeout(function(){new Date-startTimeout>0&&(reject("The request timedout."),settings.callback=$.noop)},settings.timeout)}})},post:function(url,data,success,dataType){url&&data&&("function"!=typeof data||dataType?"string"==typeof data&&"function"==typeof success&&(dataType||(dataType="form"),$.xhr({url:url,type:"POST",data:data,success:success,dataType:dataType})):(dataType="string"==typeof success?success:"form",$.xhr({url:url,type:"POST",success:data,dataType:dataType})))}}),$.extend($,{isiPhone:/iphone/gim.test(navigator.userAgent),isiPad:/ipad/gim.test(navigator.userAgent),isiPod:/ipod/gim.test(navigator.userAgent),isiOS:/ip(hone|od|ad)/gim.test(navigator.userAgent),isAndroid:/android/gim.test(navigator.userAgent)&&!/trident/gim.test(navigator.userAgent),isWebOS:/webos/gim.test(navigator.userAgent),isBlackberry:/blackberry/gim.test(navigator.userAgent),isTouchEnabled:"createTouch"in document,isOnline:navigator.onLine,isStandalone:navigator.standalone,isiOS6:navigator.userAgent.match(/OS 6/i),isiOS7:navigator.userAgent.match(/OS 7/i),isWin:/trident/gim.test(navigator.userAgent),isWinPhone:/trident/gim.test(navigator.userAgent)&&/mobile/gim.test(navigator.userAgent),isIE10:navigator.userAgent.match(/msie 10/i),isIE11:navigator.userAgent.match(/msie 11/i),isWebkit:navigator.userAgent.match(/webkit/),isMobile:/mobile/gim.test(navigator.userAgent),isDesktop:!/mobile/gim.test(navigator.userAgent),isSafari:!/Chrome/gim.test(navigator.userAgent)&&/Safari/gim.test(navigator.userAgent)&&!/android/gim.test(navigator.userAgent),isChrome:/Chrome/gim.test(navigator.userAgent),isNativeAndroid:/android/i.test(navigator.userAgent)&&/webkit/i.test(navigator.userAgent)&&!/chrome/i.test(navigator.userAgent)}),$.extend($,{templates:{},template:function(tmpl,variable){var regex,delimiterOpen,delimiterClosed;variable=variable?variable:"data",regex=/\[\[=([\s\S]+?)\]\]/g,delimiterOpen="[[",delimiterClosed="]]";var template=new Function(variable,"var p=[];p.push('"+tmpl.replace(/[\r\t\n]/g," ").split("'").join("\\'").replace(regex,"',$1,'").split(delimiterOpen).join("');").split(delimiterClosed).join("p.push('")+"');return p.join('');");return template}}),$.extend($,{subscriptions:{},subscribe:function(topic,callback){var token=$.uuidNum();return $.subscriptions[topic]||($.subscriptions[topic]=[]),$.subscriptions[topic].push({token:token,callback:callback}),token},unsubscribe:function(token){setTimeout(function(){for(var m in $.subscriptions)if($.subscriptions[m])for(var i=0,len=$.subscriptions[m].length;len>i;i++)if($.subscriptions[m][i].token===token)return $.subscriptions[m].splice(i,1),token;return!1})},publish:function(topic,args){return $.subscriptions[topic]?void setTimeout(function(){for(var len=$.subscriptions[topic]?$.subscriptions[topic].length:0;len--;)$.subscriptions[topic][len].callback(topic,args);return!0}):!1}}),$.extend({Deferred:function(callback){var status="pending",doneCallback=[],failCallback=[],progressCallback=[],resultArgs=null,promise={done:function(){for(var i=0;i<arguments.length;i++)if(arguments[i])if(Array.isArray(arguments[i]))for(var arr=arguments[i],j=0;j<arr.length;j++)"resolved"===status&&arr[j].apply(this,resultArgs),doneCallback.push(arr[j]);else"resolved"===status&&arguments[i].apply(this,resultArgs),doneCallback.push(arguments[i]);return this},fail:function(){for(var i=0;i<arguments.length;i++)if(arguments[i])if(Array.isArray(arguments[i]))for(var arr=arguments[i],j=0;j<arr.length;j++)"rejected"===status&&arr[j].apply(this,resultArgs),failCallback.push(arr[j]);else"rejected"===status&&arguments[i].apply(this,resultArgs),failCallback.push(arguments[i]);return this},always:function(){return this.done.apply(this,arguments).fail.apply(this,arguments)},progress:function(){for(var i=0;i<arguments.length;i++)if(arguments[i])if(Array.isArray(arguments[i]))for(var arr=arguments[i],j=0;j<arr.length;j++)"pending"===status&&progressCallback.push(arr[j]);else"pending"===status&&progressCallback.push(arguments[i]);return this},then:function(){arguments.length>1&&arguments[1]&&this.fail(arguments[1]),arguments.length>0&&arguments[0]&&this.done(arguments[0]),arguments.length>2&&arguments[2]&&this.progress(arguments[2])},promise:function(obj){if(null===obj||void 0===obj)return promise;for(var i in promise)obj[i]=promise[i];return obj},state:function(){return status},debug:function(){console.log("[debug]",doneCallback,failCallback,status)},isRejected:function(){return"rejected"===status},isResolved:function(){return"resolved"===status},pipe:function(done,fail){var executeHandler=function(array,handler){if($.isArray(array))for(var i=0;i<array.length;i++)handler(array[i]);else handler(array)};return $.Deferred(function(def){executeHandler(done,function(func){deferred.done("function"==typeof func?function(){var returnVal=func.apply(this,arguments);returnVal&&"function"==typeof returnVal?returnVal.promise().then(def.resolve,def.reject,def.notify):def.resolve(returnVal)}:def.resolve)}),executeHandler(fail,function(func){deferred.fail("function"==typeof func?function(){var returnVal=func.apply(this,arguments);returnVal&&"function"==typeof returnVal?returnVal.promise().then(def.resolve,def.reject,def.notify):def.reject(returnVal)}:def.reject)})}).promise()}},deferred={resolveWith:function(context){if("pending"===status){status="resolved",resultArgs=arguments.length>1?arguments[1]:[];for(var i=0;i<doneCallback.length;i++)doneCallback[i].apply(context,resultArgs)}return this},rejectWith:function(context){if("pending"===status){status="rejected",resultArgs=arguments.length>1?arguments[1]:[];for(var i=0;i<failCallback.length;i++)failCallback[i].apply(context,resultArgs)}return this},notifyWith:function(context){if("pending"===status){resultArgs=2<=arguments.length?$.slice.call(arguments,1):[];for(var i=0;i<progressCallback.length;i++)progressCallback[i].apply(context,resultArgs)}return this},resolve:function(){return this.resolveWith(this,arguments)},reject:function(){return this.rejectWith(this,arguments)},notify:function(){return this.notifyWith(this,arguments)}},obj=promise.promise(deferred);return callback&&callback.apply(obj,[obj]),obj}}),$.extend({when:function(){if(arguments.length<2){var obj=arguments.length?arguments[0]:void 0;return obj&&"function"==typeof obj.isResolved&&"function"==typeof obj.isRejected?obj.promise():$.Deferred().resolve(obj).promise()}return function(args){var D=$.Deferred(),size=args.length,done=0,params=[];params.length=size;for(var i=0;i<args.length;i++)!function(j){args[j].done(function(){params[j]=arguments.length<2?arguments[0]:arguments,++done===size&&D.resolve.apply(D,params)}).fail(function(){D.reject(arguments)})}(i);return D.promise()}(arguments)}}),function(){function schedule(fn,self){queue.add(fn,self),cycle||(cycle=setTimeout(queue.unshift))}function isThenable(obj){var _then,obj_type=typeof obj;return null===obj||"object"!==obj_type&&"function"!==obj_type||(_then=obj.then),"function"==typeof _then?_then:!1}function notify(){for(var i=0;i<this.chain.length;i++)notifyIsolated(this,1===this.state?this.chain[i].success:this.chain[i].failure,this.chain[i]);this.chain.length=0}function notifyIsolated(self,callback,chain){var ret,_then;try{callback===!1?chain.reject(self.msg):(ret=callback===!0?self.msg:callback.call(void 0,self.msg),ret===chain.promise?chain.reject(new TypeError("Promise-chain cycle")):(_then=isThenable(ret))?_then.call(ret,chain.resolve,chain.reject):chain.resolve(ret))}catch(err){chain.reject(err)}}function resolve(msg){var _then,deferred,self=this;if(!self.triggered){self.triggered=!0,self.deferred&&(self=self.deferred);try{(_then=isThenable(msg))?(deferred=new MakeDeferred(self),_then.call(msg,function(){resolve.apply(deferred,arguments)},function(){reject.apply(deferred,arguments)})):(self.msg=msg,self.state=1,self.chain.length>0&&schedule(notify,self))}catch(err){reject.call(deferred||new MakeDeferred(self),err)}}}function reject(msg){var self=this;self.triggered||(self.triggered=!0,self.deferred&&(self=self.deferred),self.msg=msg,self.state=2,self.chain.length>0&&schedule(notify,self))}function iteratePromises(Constructor,arr,resolver,rejecter){for(var idx=0;idx<arr.length;idx++)!function(idx){Constructor.resolve(arr[idx]).then(function(msg){resolver(idx,msg)},rejecter)}(idx)}function MakeDeferred(self){this.deferred=self,this.triggered=!1}function Deferred(self){this.promise=self,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function Promise(executor){if("function"!=typeof executor)throw new TypeError("Not a function");if(0!==this.isValidPromise)throw new TypeError("Not a promise");this.isValidPromise=1;var deferred=new Deferred(this);this.then=function(success,failure){var obj={success:"function"==typeof success?success:!0,failure:"function"==typeof failure?failure:!1};return obj.promise=new this.constructor(function(resolve,reject){if("function"!=typeof resolve||"function"!=typeof reject)throw new TypeError("Not a function");obj.resolve=resolve,obj.reject=reject}),deferred.chain.push(obj),0!==deferred.state&&schedule(notify,deferred),obj.promise},this["catch"]=function(failure){return this.then(void 0,failure)};try{executor.call(void 0,function(msg){resolve.call(deferred,msg)},function(msg){reject.call(deferred,msg)})}catch(err){reject.call(deferred,err)}}var extend,cycle,queue;extend=function(obj,name,val,config){return Object.defineProperty(obj,name,{value:val,writable:!0,configurable:config!==!1})},queue=function(){function Item(fn,self){this.fn=fn,this.self=self,this.next=void 0}var first,last,item;return{add:function(fn,self){item=new Item(fn,self),last?last.next=item:first=item,last=item,item=void 0},unshift:function(){var f=first;for(first=last=cycle=void 0;f;)f.fn.call(f.self),f=f.next}}}();var PromisePrototype=extend({},"constructor",Promise,!1);return extend(Promise,"prototype",PromisePrototype,!1),extend(PromisePrototype,"isValidPromise",0,!1),extend(Promise,"resolve",function(msg){var Constructor=this;return msg&&"object"==typeof msg&&1===msg.isValidPromise?msg:new Constructor(function(resolve,reject){if("function"!=typeof resolve||"function"!=typeof reject)throw new TypeError("Not a function");resolve(msg)})}),extend(Promise,"reject",function(msg){return new this(function(resolve,reject){if("function"!=typeof resolve||"function"!=typeof reject)throw new TypeError("Not a function");reject(msg)})}),extend(Promise,"all",function(arr){var Constructor=this;return"[object Array]"!==Object.prototype.toString.call(arr)?Constructor.reject(new TypeError("Not an array")):0===arr.length?Constructor.resolve([]):new Constructor(function(resolve,reject){if("function"!=typeof resolve||"function"!=typeof reject)throw new TypeError("Not a function");var len=arr.length,msgs=new Array(len),count=0;iteratePromises(Constructor,arr,function(idx,msg){msgs[idx]=msg,++count===len&&resolve(msgs)},reject)})}),extend(Promise,"race",function(arr){var Constructor=this;return"[object Array]"!==Object.prototype.toString.call(arr)?Constructor.reject(new TypeError("Not an array")):new Constructor(function(resolve,reject){if("function"!=typeof resolve||"function"!=typeof reject)throw new TypeError("Not a function");iteratePromises(Constructor,arr,function(idx,msg){resolve(msg)},reject)})}),"Promise"in window&&"resolve"in window.Promise&&"reject"in window.Promise&&"all"in window.Promise&&"race"in window.Promise?void 0:window.Promise=Promise}(),window.$chocolatechipjs=$,"undefined"==typeof window.$&&(window.$=$)}();